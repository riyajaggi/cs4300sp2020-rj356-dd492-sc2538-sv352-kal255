<html>

<head>
  <link rel="stylesheet" type="text/css" media="all" href="../static/selectize.css">
  <link rel="stylesheet" href="/static/bootstrap.min.css?v=1.0.0">
  <link rel="stylesheet" href="/static/main.css?v=1.0.0">
  <link rel="stylesheet" href="/static/prototype1.css?v=1.0.0">

  <link href="https://fonts.googleapis.com/css?family=Roboto+Condensed&display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro&display=swap" rel="stylesheet" />
  <script src="/static/js/jquery.min.js"></script>
  <script src="/static/js/selectize.min.js"></script>
  <script src="https://code.jquery.com/ui/1.10.4/jquery-ui.js"></script>

  <style>
    body {
      font-family: Helvetica, Arial, sans-serif
    }

    /* h2 {
      font-size: 26;
      font-weight: 550;
      padding-top: 3%;
      font-variant: small-caps;
    }

    h3 {
      font-size: 23;
      font-weight: 550;
      font-variant: small-caps;
    }

    body {
      font-family: Helvetica, Arial, sans-serif
    }

    input {
      border-radius: 3px;
      border-width: 1px;
    }

    .required {
      font-weight: 300;
      font-size: 16;
      padding-left: 5%;
      padding-top: 1%;
      padding-bottom: 1%;
      background-color: lavender;
      border-radius: 25px;
      text-align: center;
    }

    .slidecontainer {
      background-color: lavender;
      border-radius: 25px;
      text-align: center;
      font-weight: 300;
      font-size: 14;
    }

    .slid {

      text-align: left;
      margin-left: 35%;
      font-weight: 300;
      font-size: 14;
      padding-bottom: 3%;

    } */
  </style>

</head>

<body id="bdy" style="background-image: url('../static/streamOn_background.png')">
  <form class="form-inline global-search" id="main-search">
    <h1 id="title">
      stream<span id="title" style="color: #5680E9;">On</span>
    </h1>
    <br>
    <div class="form-group">

      <div class="required" style="padding-top: 30px;">
        <p class="btw">Search<span style="color: black;">*</span></p>
        <input id="query-show" type="text" name="search" class="form-control" placeholder="Enter TV Show">

        <p class="btw">Or/And</p>
        <input id="query-free" type="text" name="freeSearch" class="form-control" placeholder="Enter keyword">
        <div style="position:relative">
          <div class="help-tip">
            <p>Required: Enter a TV show or some words about what you feel like watching!
            </p>
          </div>
        </div>
        <p class="btw">(multi-word keywords can be grouped by quotes Ex: "los angeles")</p>
        <br><br>
        <p class="btw" style="color:rgb(116, 18, 141);">Not Like</p>
        <input id="query-not-show" type="text" name="not-tv" class="form-control" placeholder="Enter TV Show">
        <p class="btw" style="color:rgb(116, 18, 141);">Or/And</p>
        <input id="query-not-free" type="text" name="not-keyword" class="form-control" placeholder="Enter keyword">
        <div style="position:relative">
          <div class="help-tip">
            <p>Enter either a TV Show or a couple words about the type of show you don't like. Ex: "dark dramatic"
            </p>
          </div>
        </div>
        <br><br>
        <div id="options">
          <p style="color:black;"> Click for Additional Options </p>
        </div>
      </div>
      <br>
      <!--     <form class="form-inline global-search">
        <input id="not" type="text" name="notShow" class="form-control" placeholder="Shows not to include">
        <input id="type" type="text" name="Genre" class="form-control" placeholder="Genre">
        <input id="stream" type="text" name="platform" class="form-control" placeholder="Platforms"> -->

      <div class="slidecontainer" id="filters" style="display:none">
        <p class="slid">
          <span style="color:rgb(116, 18, 141); padding-bottom: 10px; font-weight: 550;">Filters</span>

          <input id="smallquery-subscriptions" type="text" name="subscriptions" class="random"
            placeholder="Enter subscriptions" style="  position: center;
            width: 240px;
            height: 45px;">
          <br><br>
          <label>No. of Seasons</label>
          <br>

          <input type="range" min="1" max="187" value="1" class="slider min" id="minSeasons" name="seasonMin">
          min: <span id="min_val"></span>
          <input type="range" min="1" max="187" value="187" class="slider max" id="maxSeasons" name="seasonMax">
          max: <span id="max_val"></span>
        </p>
        <p></p>
        <p></p>
        <p></p>
        <p></p>
        <p></p>
        <p></p>
        <!-- <h3>assign weights </h3> -->
        <div class="weights">
          <p class="slid">

            <label
              style="color: purple;  
            border-radius: 15px; padding-left: 40px; padding-top: 5px;padding-bottom: 5px; padding-right: 20px;">AssignWeights</label>
          <div style="position:relative">
            <div class="help-tip">
              <p>Welcome to Stream On! Enter A TV Show or some words that describe what you want to watch to get
                started!
              </p>
            </div>
          </div>
          <br>
          <label>Similarity</label>
          <br>
          <input type="range" min="0" max="100" value="100" class="slider weight" id="simil" name="similarity-weight">

          <label>Not like</label>
          <br>
          <input type="range" min="0" max="100" value="0" class="slider weight" id="not-like" name="not-weight">

          <label>TV Show - Keyword</label>
          <br>
          <input type="range" min="0" max="100" value="50" class="slider weight" id="show" name="show-keyword-weight">

          <label>Not like: TV Show - Keyword</label>
          <br>
          <input type="range" min="0" max="100" value="50" class="slider weight" id="keyword"
            name="not-like-show-keyword-weight">
          </p>
        </div>


        <p></p>
        <p></p>
        <p></p>
        <p></p>
        <p></p>
        <p></p>

        <div class="genrediv">

          <p class="slid">
            <span style="color:rgb(116, 18, 141);padding-bottom: 10px; font-weight: 550;">Filters</span>
            <input id="smallquery-genre" type="text" name="genre" class="random" placeholder="Genre" style="  position: center;
            width: 240px;
            height: 45px;">
            <br><br>
            <label>Year</label>
            <br>

            <input type="range" min="1946" max="2021" value="1946" class="slider min" id="minYear">
            min: <span id="min_val_year"></span>
            <input type="range" min="1946" max="2021" value="2021" class="slider max" id="maxYear">
            max: <span id="max_val_year"></span>
          </p>
        </div>


      </div>
    </div>
    <br><br>
    <p>
      <button id="button" type="submit" position="center" form="main-search"> Find Shows!
      </button>
    </p>
  </form>

  <script>
    var shows_string = "{{shows}}".split(", ");
    shows = shows_string.map(function (r) {
      return r.trim().replaceAll("&#39;", "").replaceAll("&#34;", "").replaceAll("amp;", "");
    });


    $(function () {
      $("#query-show").autocomplete({
        source: shows,
      });
    });

    $(function () {
      $("#query-not-show").autocomplete({
        source: shows,
      });
    });



    $('#smallquery-genre').selectize({
      delimiter: ',',
      persist: false,
      maxItems: null,
      valueField: 'genre',
      labelField: 'genre',
      searchField: ['genre'],
      options: [{ genre: 'Thriller' }, { genre: 'Crime' }, { genre: 'Drama' }, { genre: 'Action & Adventure' }, { genre: 'Action' }, { genre: 'Adventure' }, { genre: 'Comedy' }, { genre: 'Animation' }, { genre: 'Horror' }, { genre: 'Fantasy' }, { genre: 'Mystery' }, { genre: 'History' }, { genre: 'Romance' }, { genre: 'News' }, { genre: 'Anime' }, { genre: 'Sci-Fi' }, { genre: 'Science-Fiction' }, { genre: 'Music' }, { genre: 'Reality-TV' }, { genre: 'LGBTQ' }, { genre: 'Biography' }, { genre: 'Documentary' }, { genre: 'Stand-up & Talk' }, { genre: 'Talk-Show' }, { genre: 'War' }, { genre: 'Short' }, { genre: 'Sport' }, { genre: 'Family' }, { genre: 'Musical' }, { genre: 'Children' }, { genre: 'Travel' }, { genre: 'Game-Show' }, { genre: 'Reality' }, { genre: 'Cult' }, { genre: 'Western' }, { genre: 'Food' }, { genre: 'Game Show' }, { genre: 'Home & Garden' }, { genre: 'Pet' }, { genre: 'Science' }, { genre: 'DIY' }
      ],
      create: function (input) {
        if (input in ['Thriller', 'Crime', 'Drama', 'Action & Adventure', 'Action', 'Adventure', 'Comedy', 'Animation', 'Horror', 'Fantasy', 'Mystery', 'History', 'Romance', 'News', 'Anime', 'Sci-Fi', 'Science-Fiction', 'Music', 'Reality-TV', 'LGBTQ', 'Biography', 'Documentary', 'Stand-up & Talk', 'Talk-Show', 'War', 'Short', 'Sport', 'Family', 'Musical', 'Children', 'Travel', 'Game-Show', 'Reality', 'Cult', 'Western', 'Food', 'Game Show', 'Home & Garden', 'Pet', 'Science', 'DIY']) {
          return {
            value: input,
            text: input
          }
        }
        else {
          return {
          }
        }
      }
    });

    $('#smallquery-subscriptions').selectize({
      delimiter: ',',
      persist: false,
      maxItems: null,
      valueField: 'subscription',
      labelField: 'subscription',
      searchField: ['subscription'],
      options: [{ subscription: 'Netflix' }, { subscription: 'HBO MAX' }, { subscription: 'HBO' }, { subscription: 'Free Services' }, { subscription: 'Hulu' }, { subscription: 'Youtube TV' }, { subscription: 'Prime Video' }, { subscription: 'CBS All Access' }, { subscription: 'Hoopla' }, { subscription: 'Paramount+' }, { subscription: 'TBS' }, { subscription: 'Comedy Central' }, { subscription: 'fuboTV' }, { subscription: 'TNT' }, { subscription: 'NBC' }, { subscription: 'USA' }, { subscription: 'YouTube Premium' }, { subscription: 'FX' }, { subscription: 'Disney+' }, { subscription: 'FOX' }, { subscription: 'AMC' }, { subscription: 'Showtime' }, { subscription: 'ABC' }, { subscription: 'Viceland' }, { subscription: 'BritBox' }, { subscription: 'Crunchyroll' }, { subscription: 'Starz' }, { subscription: 'Syfy' }, { subscription: 'BBC America' }, { subscription: 'DC Universe' }, { subscription: 'Discovery+' }, { subscription: 'Apple TV+' }, { subscription: 'AcornTV' }, { subscription: 'Adult Swim' }, { subscription: 'Funimation' }, { subscription: 'Cinemax' }, { subscription: 'Tubi' }, { subscription: 'iTunes' }, { subscription: 'Apple TV' }, { subscription: 'Peacock+' }, { subscription: 'MTV' }, { subscription: 'TVLand' }, { subscription: 'Nick' }, { subscription: 'IFC' }, { subscription: 'Peacock Premium' }, { subscription: 'Cartoon Network' }, { subscription: 'Epix' }, { subscription: 'Science' }, { subscription: 'History' }, { subscription: 'Shudder' }, { subscription: 'AMC Premiere' }, { subscription: 'VH1' }, { subscription: 'Sundance' }, { subscription: 'BET' }, { subscription: 'NatGeo' }, { subscription: 'TruTV' }, { subscription: 'Hallmark' }, { subscription: 'Travel Channel' }, { subscription: 'BET+' }, { subscription: 'A&E' }, { subscription: 'Food Network' }, { subscription: 'Disney' }, { subscription: 'Lifetime' }, { subscription: 'Hallmark Movies Now' }, { subscription: 'Bravo' }, { subscription: 'TLC' }, { subscription: 'HGTV' }, { subscription: 'CNBC' }, { subscription: 'IndieFlix' }, { subscription: 'DIY' }, { subscription: 'FYI' }, { subscription: 'YouTube TV' }
      ],
      create: function (input) {
        if (input in ['Netflix', 'HBO MAX', 'HBO', 'Free Services', 'Hulu', 'Youtube TV', 'Prime Video', 'CBS All Access', 'Hoopla', 'Paramount+', 'TBS', 'Comedy Central', 'fuboTV', 'TNT', 'NBC', 'USA', 'YouTube Premium', 'FX', 'Disney+', 'FOX', 'AMC', 'Showtime', 'ABC', 'Viceland', 'BritBox', 'Crunchyroll', 'Starz', 'Syfy', 'BBC America', 'DC Universe', 'Discovery+', 'Apple TV+', 'AcornTV', 'Adult Swim', 'Funimation', 'Cinemax', 'Tubi', 'iTunes', 'Apple TV', 'Peacock+', 'MTV', 'TVLand', 'Nick', 'IFC', 'Peacock Premium', 'Cartoon Network', 'Epix', 'Science', 'History', 'Shudder', 'AMC Premiere', 'VH1', 'Sundance', 'BET', 'NatGeo', 'TruTV', 'Hallmark', 'Travel Channel', 'BET+', 'A&E', 'Food Network', 'Disney', 'Lifetime', 'Hallmark Movies Now', 'Bravo', 'TLC', 'HGTV', 'CNBC', 'IndieFlix', 'DIY', 'FYI', 'YouTube TV']) {
          return {
            value: input,
            text: input
          }
        }
        else {
          return {
          }
        }
      }
    });

    var search = document.getElementById("button")
    var queryS = document.getElementById("query-show")
    var queryF = document.getElementById("query-free")
    var form = document.getElementById("bdy")

    search.onclick = function () {
      if (queryS.value.length == 0 && queryF.value.length == 0) {
        return alert("Not Like is optional, Search* is required. Please fill in at least one of the two Search* fields!")
      }
    }

    var filters = document.getElementById("filters")
    var options = document.getElementById("options")
    options.onclick = function () {
      if (filters.style.display == "inline-block") {
        filters.style.display = "none"
        form.style.height = "100%"
      }
      else {
        filters.style.display = "inline-block"
        form.style.height = "140%"
      }

    }




    var minSeasonSlider = document.getElementById("minSeasons");
    var maxSeasonSlider = document.getElementById("maxSeasons");
    var min_val = document.getElementById("min_val");
    var max_val = document.getElementById("max_val");
    min_val.innerHTML = minSeasonSlider.value;
    max_val.innerHTML = maxSeasonSlider.value;

    minSeasonSlider.oninput = function () {
      maxVal = parseInt(maxSeasonSlider.value)
      minVal = parseInt(this.value);

      if (minVal > maxVal) {
        maxSeasonSlider.value = minVal;
        min_val.innerHTML = this.value;
        max_val.innerHTML = maxSeasonSlider.value

      }
      min_val.innerHTML = this.value;
      max_val.innerHTML = maxSeasonSlider.value
    };

    maxSeasonSlider.oninput = function () {
      maxVal = parseInt(this.value)
      minVal = parseInt(minSeasonSlider.value);

      if (minVal > maxVal) {
        minSeasonSlider.value = maxVal;
        max_val.innerHTML = this.value;
        min_val.innerHTML = minSeasonSlider.value
      }
      max_val.innerHTML = this.value;
      min_val.innerHTML = minSeasonSlider.value

    };



    var minYearSlider = document.getElementById("minYear");
    var maxYearSlider = document.getElementById("maxYear");
    var min_val_year = document.getElementById("min_val_year");
    var max_val_year = document.getElementById("max_val_year");
    min_val_year.innerHTML = minYearSlider.value;
    max_val_year.innerHTML = maxYearSlider.value;

    minYearSlider.oninput = function () {
      maxVal = parseInt(maxYearSlider.value)
      minVal = parseInt(this.value);

      if (minVal > maxVal) {
        maxYearSlider.value = minVal;
        min_val_year.innerHTML = this.value;
        max_val_year.innerHTML = maxYearSlider.value

      }
      min_val_year.innerHTML = this.value;
      max_val_year.innerHTML = maxYearSlider.value
    };

    maxYearSlider.oninput = function () {
      maxVal = parseInt(this.value)
      minVal = parseInt(minYearSlider.value);

      if (minVal > maxVal) {
        minYearSlider.value = maxVal;
        max_val_year.innerHTML = this.value;
        min_val_year.innerHTML = minYearSlider.value
      }
      max_val_year.innerHTML = this.value;
      min_val_year.innerHTML = minYearSlider.value

    };


  </script>

</body>

</html>